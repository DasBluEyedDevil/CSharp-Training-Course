<Window x:Class="CSharpLearningPlatform.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
        mc:Ignorable="d"
        Title="C# Learning Platform - From Zero to Full-Stack"
        Height="800"
        Width="1400"
        WindowStartupLocation="CenterScreen"
        ui:WindowHelper.UseModernWindowStyle="True">

    <Grid>
        <!-- Main Layout: Sidebar + Content -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT SIDEBAR: Module Browser -->
        <Border Grid.Column="0" Background="#2D2D30" BorderBrush="#3E3E42" BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <StackPanel Grid.Row="0" Background="#1E1E1E" Padding="16">
                    <TextBlock Text="ðŸ“š COURSE MODULES"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="White"/>
                    <TextBlock Name="txtOverallProgress"
                               Text="Progress: 0%"
                               FontSize="12"
                               Foreground="#A0A0A0"
                               Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Module/Lesson List -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <ItemsControl Name="icModules" Padding="8">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="0,0,0,16">
                                    <!-- Module Header -->
                                    <TextBlock Text="{Binding Title, StringFormat='ðŸ“š Module {0}'}"
                                               FontWeight="Bold"
                                               FontSize="14"
                                               Foreground="#4EC9B0"
                                               Margin="8,0,0,8"/>

                                    <!-- Lessons -->
                                    <ItemsControl ItemsSource="{Binding Lessons}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Button Name="btnLesson"
                                                        Content="{Binding FullTitle}"
                                                        Click="BtnLesson_Click"
                                                        Tag="{Binding}"
                                                        Background="Transparent"
                                                        Foreground="#CCCCCC"
                                                        BorderThickness="0"
                                                        HorizontalContentAlignment="Left"
                                                        Padding="24,8"
                                                        Margin="0,2"
                                                        Cursor="Hand"
                                                        FontSize="13">
                                                    <Button.Style>
                                                        <Style TargetType="Button">
                                                            <Setter Property="Background" Value="Transparent"/>
                                                            <Setter Property="Foreground" Value="#CCCCCC"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#3E3E42"/>
                                                                    <Setter Property="Foreground" Value="White"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>

                <!-- Progress Bar -->
                <StackPanel Grid.Row="2" Background="#1E1E1E" Padding="16">
                    <ProgressBar Name="pbOverallProgress"
                                 Height="8"
                                 Minimum="0"
                                 Maximum="100"
                                 Value="0"
                                 Foreground="#0078D4"/>
                    <Button Content="Reset Progress"
                            Click="BtnResetProgress_Click"
                            Background="#3E3E42"
                            Foreground="#CCCCCC"
                            BorderThickness="0"
                            Padding="8"
                            Margin="0,8,0,0"
                            FontSize="11"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- RIGHT CONTENT AREA -->
        <Grid Grid.Column="1" Background="#F9F9F9">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Content Display Area -->
            <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Padding="32">
                <StackPanel Name="spLessonContent">
                    <!-- Welcome Message (shown initially) -->
                    <StackPanel Name="spWelcome">
                        <TextBlock Style="{StaticResource TitleTextStyle}"
                                   Text="Welcome to C# Learning Platform! ðŸŽ“"/>
                        <TextBlock Style="{StaticResource BodyTextStyle}"
                                   TextWrapping="Wrap">
                            <Run Text="From Zero to Full-Stack .NET Developer"/><LineBreak/><LineBreak/>
                            <Run Text="This interactive platform will guide you from absolute beginner to job-ready developer. "/><LineBreak/>
                            <Run Text="Select a lesson from the left sidebar to begin your journey."/><LineBreak/><LineBreak/>
                            <Run FontWeight="Bold" Text="Philosophy: Concept First, Jargon Last"/><LineBreak/>
                            <Run Text="Every technical term will be introduced with a simple, real-world analogy before diving into code."/>
                        </TextBlock>
                    </StackPanel>

                    <!-- Lesson Content (hidden initially) -->
                    <StackPanel Name="spLesson" Visibility="Collapsed">
                        <!-- Lesson Title -->
                        <TextBlock Name="txtLessonTitle"
                                   Style="{StaticResource TitleTextStyle}"/>

                        <!-- THE SIMPLIFIER: Concept -->
                        <TextBlock Text="ðŸ’¡ THE SIMPLIFIER (CONCEPT)"
                                   Style="{StaticResource SubtitleTextStyle}"
                                   Foreground="#0078D4"/>
                        <TextBlock Name="txtSimplifierConcept"
                                   Style="{StaticResource BodyTextStyle}"
                                   Margin="0,0,0,24"/>

                        <!-- THE CODER: Example -->
                        <TextBlock Text="âš™ï¸ THE CODER (CODE EXAMPLE)"
                                   Style="{StaticResource SubtitleTextStyle}"
                                   Foreground="#107C10"/>
                        <Border Background="#1E1E1E"
                                CornerRadius="4"
                                Padding="16"
                                Margin="0,8,0,24">
                            <TextBlock Name="txtCoderExample"
                                       FontFamily="Consolas, Courier New"
                                       FontSize="13"
                                       Foreground="#D4D4D4"
                                       TextWrapping="Wrap"/>
                        </Border>

                        <!-- SYNTAX BREAKDOWN -->
                        <TextBlock Text="ðŸ“– SYNTAX BREAKDOWN"
                                   Style="{StaticResource SubtitleTextStyle}"
                                   Foreground="#9B59B6"/>
                        <ItemsControl Name="icSyntaxBreakdown" Margin="0,8,0,24">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="0,0,0,12">
                                        <Border Background="#FFF3CD"
                                                CornerRadius="4"
                                                Padding="12,8">
                                            <TextBlock Text="{Binding CodeSnippet}"
                                                       FontFamily="Consolas"
                                                       FontSize="12"
                                                       Foreground="#856404"
                                                       FontWeight="Bold"/>
                                        </Border>
                                        <TextBlock Text="{Binding Explanation}"
                                                   FontSize="13"
                                                   Foreground="#555"
                                                   Margin="4,4,0,0"
                                                   TextWrapping="Wrap"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>

                        <!-- INTERACTIVE CHALLENGE -->
                        <StackPanel Name="spChallenge" Visibility="Collapsed">
                            <TextBlock Text="ðŸŽ¯ INTERACTIVE CHALLENGE"
                                       Style="{StaticResource SubtitleTextStyle}"
                                       Foreground="#D13438"/>
                            <TextBlock Name="txtChallengeInstructions"
                                       Style="{StaticResource BodyTextStyle}"
                                       Margin="0,0,0,12"/>

                            <!-- Code Editor -->
                            <Border Background="#1E1E1E"
                                    BorderBrush="#3E3E42"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Margin="0,0,0,12">
                                <avalonEdit:TextEditor Name="txtCodeEditor"
                                                       FontFamily="Consolas, Courier New"
                                                       FontSize="13"
                                                       Foreground="#D4D4D4"
                                                       Background="#1E1E1E"
                                                       ShowLineNumbers="True"
                                                       Padding="8"
                                                       MinHeight="200"/>
                            </Border>

                            <!-- Challenge Actions -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Button Name="btnRunCode"
                                        Content="â–¶ Run Code"
                                        Click="BtnRunCode_Click"
                                        Style="{StaticResource PrimaryButtonStyle}"
                                        Margin="0,0,8,0"/>
                                <Button Name="btnShowHint"
                                        Content="ðŸ’¡ Show Hint"
                                        Click="BtnShowHint_Click"
                                        Padding="16,8"
                                        Margin="0,0,8,0"/>
                                <Button Name="btnShowSolution"
                                        Content="âœ“ Show Solution"
                                        Click="BtnShowSolution_Click"
                                        Padding="16,8"/>
                            </StackPanel>

                            <!-- Output Display -->
                            <Border Name="borderOutput"
                                    Background="#F8F9FA"
                                    BorderBrush="#DEE2E6"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Padding="16"
                                    Visibility="Collapsed">
                                <StackPanel>
                                    <TextBlock Text="OUTPUT:"
                                               FontWeight="Bold"
                                               FontSize="12"
                                               Foreground="#6C757D"
                                               Margin="0,0,0,8"/>
                                    <TextBlock Name="txtOutput"
                                               FontFamily="Consolas"
                                               FontSize="12"
                                               Foreground="#212529"
                                               TextWrapping="Wrap"/>
                                    <ItemsControl Name="icValidationMessages" Margin="0,12,0,0">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding}"
                                                           FontSize="12"
                                                           Margin="0,2"/>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>
                            </Border>

                            <!-- Common Sticking Points -->
                            <StackPanel Name="spStickingPoints" Visibility="Collapsed" Margin="0,16,0,0">
                                <TextBlock Text="âš ï¸ COMMON STICKING POINTS"
                                           FontSize="14"
                                           FontWeight="Bold"
                                           Foreground="#FF9800"
                                           Margin="0,0,0,8"/>
                                <ItemsControl Name="icStickingPoints">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding, StringFormat='â€¢ {0}'}"
                                                       FontSize="13"
                                                       Foreground="#555"
                                                       Margin="0,4"
                                                       TextWrapping="Wrap"/>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>

            <!-- Bottom Action Bar -->
            <Border Grid.Row="1"
                    Background="#FFFFFF"
                    BorderBrush="#E0E0E0"
                    BorderThickness="0,1,0,0"
                    Padding="32,16">
                <Grid>
                    <Button Name="btnNextLesson"
                            Content="Next Lesson â†’"
                            Click="BtnNextLesson_Click"
                            Style="{StaticResource SuccessButtonStyle}"
                            HorizontalAlignment="Right"
                            Visibility="Collapsed"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
