{
  "moduleId": 10,
  "lessonNumber": 1,
  "lessonId": "M10L01",
  "title": "Synchronous vs. Asynchronous (Restaurant Buzzer Analogy)",
  "simplifierConcept": "Imagine two ways to get food:\n\nSYNCHRONOUS (blocking):\n\u2022 You order at counter\n\u2022 You WAIT in line, doing NOTHING\n\u2022 Only after you get food can you sit down\n\u2022 Everyone behind you is BLOCKED!\n\nASYNCHRONOUS (non-blocking):\n\u2022 You order at counter\n\u2022 They give you a BUZZER\n\u2022 You sit down, chat, check your phone (do other things!)\n\u2022 Buzzer goes off when food is ready\n\u2022 You pick up food\n\u2022 Others can order while you wait!\n\nThat's the difference!\n\nSYNCHRONOUS code: Each line waits for the previous one to FINISH. Program is frozen during slow operations (file I/O, web requests, database queries).\n\nASYNCHRONOUS code: Start slow operation, do OTHER WORK while waiting, come back when it's done. App stays responsive!\n\nThink: Async = 'Don't wait around doing nothing. Start the task and come back when it's ready!'",
  "coderExample": "using System;\nusing System.Threading;\nusing System.Threading.Tasks;\n\n// SYNCHRONOUS VERSION - blocks the thread\nvoid DownloadFileSync()\n{\n    Console.WriteLine(\"  Starting sync download...\");\n    Thread.Sleep(3000);  // Blocks for 3 seconds!\n    Console.WriteLine(\"  Sync download complete!\");\n}\n\n// ASYNCHRONOUS VERSION - doesn't block\nasync Task DownloadFileAsync()\n{\n    Console.WriteLine(\"  Starting async download...\");\n    await Task.Delay(3000);  // Doesn't block!\n    Console.WriteLine(\"  Async download complete!\");\n}\n\n// DEMONSTRATION 1: Synchronous (blocking)\nConsole.WriteLine(\"=== SYNCHRONOUS (Blocking) ===\");\nConsole.WriteLine(\"Before download\");\nDownloadFileSync();  // Program FREEZES here for 3 seconds!\nConsole.WriteLine(\"After download (had to wait)\\n\");\n\n// Output:\n// Before download\n// Starting sync download...\n// (3 second freeze - can't do anything!)\n// Sync download complete!\n// After download (had to wait)\n\n// DEMONSTRATION 2: Asynchronous (non-blocking)\nConsole.WriteLine(\"=== ASYNCHRONOUS (Non-blocking) ===\");\nConsole.WriteLine(\"Before download\");\nTask downloadTask = DownloadFileAsync();  // Starts but doesn't wait!\nConsole.WriteLine(\"Doing other work immediately!\");\nConsole.WriteLine(\"Still working...\");\nawait downloadTask;  // Now wait for it to finish\nConsole.WriteLine(\"After download\\n\");\n\n// Output:\n// Before download\n// Starting async download...\n// Doing other work immediately!  \u2190 Runs DURING download!\n// Still working...                \u2190 Also DURING download!\n// (after 3 seconds)\n// Async download complete!\n// After download\n\n// REAL BENEFIT: Multiple async operations simultaneously\nConsole.WriteLine(\"=== MULTIPLE ASYNC OPERATIONS ===\");\nTask d1 = DownloadFileAsync();  // Start first\nTask d2 = DownloadFileAsync();  // Start second\nTask d3 = DownloadFileAsync();  // Start third\n\nConsole.WriteLine(\"All 3 downloads started!\");\nConsole.WriteLine(\"Doing other work while all 3 run...\");\n\nawait Task.WhenAll(d1, d2, d3);  // Wait for ALL to finish\nConsole.WriteLine(\"All downloads complete!\");\n// Total time: ~3 seconds (not 9!), because they ran SIMULTANEOUSLY!",
  "syntaxBreakdown": [
    {
      "codeSnippet": "Thread.Sleep() vs Task.Delay()",
      "explanation": "Thread.Sleep() BLOCKS the thread (synchronous). Task.Delay() is ASYNC - releases thread while waiting. Always prefer Task.Delay() in async code!"
    },
    {
      "codeSnippet": "async Task MethodName()",
      "explanation": "'async' keyword marks method as asynchronous. Return type is usually 'Task' (void equivalent) or 'Task<T>' (returns T). Enables 'await' inside."
    },
    {
      "codeSnippet": "await expression",
      "explanation": "'await' says 'pause here until this Task completes, but release the thread for other work.' Can only use inside 'async' method."
    },
    {
      "codeSnippet": "Task.WhenAll()",
      "explanation": "Runs multiple async operations simultaneously! Waits for ALL to complete. Much faster than running one-by-one."
    }
  ],
  "challenge": {
    "instructions": "Simulate a coffee shop with async operations!\n\n1. Create async method 'BrewCoffeeAsync(string type)':\n   - Print 'Brewing [type] coffee...'\n   - await Task.Delay(2000) to simulate brewing\n   - Print '[type] coffee ready!'\n   - Return Task\n\n2. Create async method 'ToastBreadAsync()':\n   - Print 'Toasting bread...'\n   - await Task.Delay(1000)\n   - Print 'Toast ready!'\n   - Return Task\n\n3. In Main (or top-level):\n   - Start brewing coffee (don't await yet!)\n   - Start toasting bread (don't await yet!)\n   - Print 'Doing other tasks...'\n   - await BOTH tasks\n   - Print 'Breakfast ready!'\n\nBoth should run SIMULTANEOUSLY!",
    "starterCode": "using System;\nusing System.Threading.Tasks;\n\nasync Task BrewCoffeeAsync(string type)\n{\n    // Print starting message\n    // await Task.Delay(2000)\n    // Print ready message\n}\n\nasync Task ToastBreadAsync()\n{\n    // Print starting message\n    // await Task.Delay(1000)\n    // Print ready message\n}\n\n// Main async code\nConsole.WriteLine(\"Starting breakfast...\");\n\n// Start both tasks\nTask coffeeTask = BrewCoffeeAsync(\"Espresso\");\nTask toastTask = ToastBreadAsync();\n\nConsole.WriteLine(\"Doing other tasks...\");\n\n// Wait for both\nawait Task.WhenAll(coffeeTask, toastTask);\n\nConsole.WriteLine(\"Breakfast ready!\");",
    "solutionCode": "using System;\nusing System.Threading.Tasks;\n\nasync Task BrewCoffeeAsync(string type)\n{\n    Console.WriteLine(\"Brewing \" + type + \" coffee...\");\n    await Task.Delay(2000);\n    Console.WriteLine(type + \" coffee ready!\");\n}\n\nasync Task ToastBreadAsync()\n{\n    Console.WriteLine(\"Toasting bread...\");\n    await Task.Delay(1000);\n    Console.WriteLine(\"Toast ready!\");\n}\n\nConsole.WriteLine(\"Starting breakfast...\");\n\nTask coffeeTask = BrewCoffeeAsync(\"Espresso\");\nTask toastTask = ToastBreadAsync();\n\nConsole.WriteLine(\"Doing other tasks...\");\n\nawait Task.WhenAll(coffeeTask, toastTask);\n\nConsole.WriteLine(\"Breakfast ready!\");",
    "hint": "Async method: 'async Task MethodName()'. Inside: 'await Task.Delay(milliseconds)'. Start without await: 'Task t = MethodAsync()'. Wait for multiple: 'await Task.WhenAll(t1, t2)'.",
    "expectedOutputPatterns": [
      "Brewing",
      "Toasting",
      "Doing other tasks",
      "ready"
    ],
    "validationRules": [],
    "commonStickingPoints": [
      "Forgetting 'await': If you call 'MethodAsync()' without 'await', it starts but you don't wait for it! The method continues immediately. Use 'await' when you need the result.",
      "Using Thread.Sleep() in async: NEVER use Thread.Sleep() in async methods! It blocks the thread. Always use 'await Task.Delay()' instead.",
      "Async void: Only use 'async void' for event handlers! For regular methods, use 'async Task'. 'async void' can't be awaited and swallows exceptions.",
      "Not understanding concurrency: Async doesn't mean parallel! In single-threaded context, it's about not blocking. Tasks run concurrently (interleaved), but might not be truly parallel."
    ]
  }
}