{
  "moduleId": 4,
  "lessonNumber": 4,
  "lessonId": "M04L04",
  "title": "Break & Continue (Loop Control)",
  "simplifierConcept": "Sometimes you need to control loops:\n\nüõë BREAK = Stop the loop entirely\nüö´ You're searching for a name\n   ‚Üí Found it? BREAK (no need to keep looking!)\n\n‚è≠Ô∏è CONTINUE = Skip to next iteration\nüö´ Processing numbers\n   ‚Üí Found negative? CONTINUE (skip it, move to next)\n\nBREAK:\nfor (int i = 0; i < 10; i++)\n{\n    if (i == 5) break;  // Stop at 5\n}\n// Runs: 0, 1, 2, 3, 4 (stops at 5)\n\nCONTINUE:\nfor (int i = 0; i < 5; i++)\n{\n    if (i == 2) continue;  // Skip 2\n    Console.WriteLine(i);\n}\n// Prints: 0, 1, 3, 4 (skips 2)\n\nThink: Break = Emergency exit. Continue = Skip this one!",
  "coderExample": "// BREAK - Exit loop early\nfor (int i = 0; i < 10; i++)\n{\n    if (i == 5)\n    {\n        break;  // Stop loop completely\n    }\n    Console.WriteLine(i);\n}\n// Output: 0, 1, 2, 3, 4 (stops before 5)\n\n// CONTINUE - Skip current iteration\nfor (int i = 0; i < 10; i++)\n{\n    if (i % 2 == 0)\n    {\n        continue;  // Skip even numbers\n    }\n    Console.WriteLine(i);\n}\n// Output: 1, 3, 5, 7, 9 (only odd numbers)\n\n// BREAK IN SEARCH\nstring[] names = { \"Alice\", \"Bob\", \"Charlie\", \"Diana\", \"Eve\" };\nstring search = \"Charlie\";\nbool found = false;\n\nforeach (string name in names)\n{\n    if (name == search)\n    {\n        Console.WriteLine($\"Found {name}!\");\n        found = true;\n        break;  // Stop searching - found it!\n    }\n}\n\nif (!found)\n{\n    Console.WriteLine($\"{search} not found\");\n}\n\n// CONTINUE WITH VALIDATION\nint[] numbers = { 10, -5, 20, -3, 15, -8, 25 };\nint sum = 0;\n\nforeach (int num in numbers)\n{\n    if (num < 0)\n    {\n        Console.WriteLine($\"Skipping negative: {num}\");\n        continue;  // Skip negative numbers\n    }\n    sum += num;\n}\nConsole.WriteLine($\"Sum of positive numbers: {sum}\");\n\n// BREAK IN WHILE LOOP\nint attempts = 0;\nint maxAttempts = 3;\n\nwhile (true)  // Infinite loop!\n{\n    attempts++;\n    Console.WriteLine($\"Attempt {attempts}\");\n    \n    if (attempts >= maxAttempts)\n    {\n        Console.WriteLine(\"Max attempts reached!\");\n        break;  // Exit infinite loop\n    }\n}\n\n// PRACTICAL: Login system\nstring correctPassword = \"secret123\";\nint maxTries = 3;\n\nfor (int i = 0; i < maxTries; i++)\n{\n    Console.WriteLine($\"Enter password (Attempt {i + 1}/{maxTries}):\");\n    string input = Console.ReadLine();\n    \n    if (input == correctPassword)\n    {\n        Console.WriteLine(\"‚úÖ Login successful!\");\n        break;  // Stop asking - correct password!\n    }\n    else\n    {\n        Console.WriteLine(\"‚ùå Incorrect password\");\n    }\n}\n\n// PRACTICAL: Data validation\nint[] scores = { 85, 92, -5, 78, 150, 88, 95 };\nList<int> validScores = new List<int>();\n\nforeach (int score in scores)\n{\n    // Skip invalid scores\n    if (score < 0 || score > 100)\n    {\n        Console.WriteLine($\"Invalid score: {score} (skipped)\");\n        continue;\n    }\n    \n    validScores.Add(score);\n}\n\nConsole.WriteLine($\"Valid scores: {validScores.Count}\");\n\n// PRACTICAL: First match wins\nstring[] coupons = { \"SAVE10\", \"WELCOME\", \"NEWYEAR\", \"SAVE20\" };\nstring userCoupon = \"NEWYEAR\";\ndouble discount = 0;\n\nforeach (string coupon in coupons)\n{\n    if (coupon == userCoupon)\n    {\n        if (coupon == \"SAVE10\") discount = 0.10;\n        else if (coupon == \"SAVE20\") discount = 0.20;\n        else if (coupon == \"WELCOME\") discount = 0.15;\n        else if (coupon == \"NEWYEAR\") discount = 0.25;\n        \n        Console.WriteLine($\"Coupon applied: {discount * 100}% off\");\n        break;  // Don't check other coupons\n    }\n}\n\n// BOTH break AND continue\nfor (int i = 1; i <= 20; i++)\n{\n    if (i % 3 == 0)\n    {\n        continue;  // Skip multiples of 3\n    }\n    \n    if (i > 15)\n    {\n        break;  // Stop after 15\n    }\n    \n    Console.Write(i + \" \");\n}\n// Output: 1 2 4 5 7 8 10 11 13 14 (skips 3,6,9,12,15; stops at 16)",
  "syntaxBreakdown": [
    {
      "codeSnippet": "break",
      "explanation": "Immediately exits the loop. Jumps to code after loop. No more iterations. Use when you found what you need or hit error condition."
    },
    {
      "codeSnippet": "continue",
      "explanation": "Skips REST of current iteration, jumps to NEXT iteration. Loop keeps going! Use to skip invalid data or unwanted items."
    },
    {
      "codeSnippet": "break in nested loops",
      "explanation": "break only exits INNERMOST loop! If in nested loop, only breaks out of current loop, outer loop continues. Need flag/return for outer loop."
    },
    {
      "codeSnippet": "while (true) with break",
      "explanation": "Common pattern for infinite loop with exit condition. while (true) { code; if (done) break; } Runs until break is hit. Alternative to complex condition."
    }
  ],
  "challenge": {
    "instructions": "Create a number analyzer!\n\n1. Ask user how many numbers they want to enter\n2. Use loop to get numbers one by one\n3. For each number:\n   - If number is 0: Display \"Zero not allowed\", CONTINUE (skip it)\n   - If number is negative: Display \"Negative stops analysis\", BREAK (stop completely)\n   - If number is valid (positive): Add to sum and count\n4. After loop ends:\n   - Display how many valid numbers entered\n   - Display sum of valid numbers\n   - Display average (if any valid numbers)\n5. If user entered negative, explain analysis stopped early\n\nExample:\nHow many: 5\nEnter number 1: 10 ‚úì\nEnter number 2: 0 ‚ö†Ô∏è Zero skipped\nEnter number 3: 15 ‚úì\nEnter number 4: -5 üõë Negative - stopping!\n\nValid numbers: 2\nSum: 25\nAverage: 12.5\nAnalysis stopped early (negative number)",
    "starterCode": "// Number Analyzer\n\nConsole.WriteLine(\"How many numbers?\");\nint count = int.Parse(Console.ReadLine());\n\nint sum = 0;\nint validCount = 0;\nbool stoppedEarly = false;\n\n// Loop to get numbers\n\n// Display results\n\n// Display average if validCount > 0",
    "solutionCode": "// Number Analyzer\n\nConsole.WriteLine(\"How many numbers?\");\nint count = int.Parse(Console.ReadLine());\n\nint sum = 0;\nint validCount = 0;\nbool stoppedEarly = false;\n\nfor (int i = 1; i <= count; i++)\n{\n    Console.WriteLine($\"Enter number {i}:\");\n    int number = int.Parse(Console.ReadLine());\n    \n    // Skip zeros\n    if (number == 0)\n    {\n        Console.WriteLine(\"‚ö†Ô∏è Zero not allowed - skipped\");\n        continue;\n    }\n    \n    // Stop on negative\n    if (number < 0)\n    {\n        Console.WriteLine(\"üõë Negative number - stopping analysis!\");\n        stoppedEarly = true;\n        break;\n    }\n    \n    // Valid positive number\n    sum += number;\n    validCount++;\n    Console.WriteLine(\"‚úÖ Valid\");\n}\n\n// Display results\nConsole.WriteLine($\"\\n=== RESULTS ===\");\nConsole.WriteLine($\"Valid numbers entered: {validCount}\");\nConsole.WriteLine($\"Sum: {sum}\");\n\nif (validCount > 0)\n{\n    double average = (double)sum / validCount;\n    Console.WriteLine($\"Average: {average:F2}\");\n}\nelse\n{\n    Console.WriteLine(\"No valid numbers entered\");\n}\n\nif (stoppedEarly)\n{\n    Console.WriteLine(\"‚ö†Ô∏è Analysis stopped early due to negative number\");\n}",
    "hint": "if (num == 0) continue skips zero. if (num < 0) break stops loop. Track validCount++ for each valid number. Average = sum / validCount (cast to double). Set flag stoppedEarly = true before break.",
    "expectedOutputPatterns": ["Valid", "Sum", "Average", "stopped"],
    "validationRules": [],
    "commonStickingPoints": [
      "Continue vs break: continue skips to NEXT iteration (loop continues). break EXITS loop completely. continue keeps going, break stops! Easy to confuse.",
      "Unreachable code: Code after break never runs! for (...) { break; Console.WriteLine(\\\"Hi\\\"); } ‚Üê \\\"Hi\\\" never prints. Put important code BEFORE break.",
      "Break in nested loops: break only exits CURRENT loop! for (...) { for (...) { break; } } breaks inner loop only. Outer loop continues. Need label or flag for outer.",
      "Continue logic error: for (i=0; i<5; i++) { if (i==2) continue; sum+=i; } skips adding 2! Continues to next iteration, skipping sum+=i for that iteration."
    ]
  }
}
