{
  "moduleId": 13,
  "lessonNumber": 4,
  "lessonId": "M13L04",
  "title": "Component Parameters (Customization)",
  "simplifierConcept": "Parameters are like function arguments for components!\n\nFunction with parameters:\nvoid Greet(string name, int age) { }\n\nComponent with parameters:\n<Person Name=\"Alice\" Age=\"30\" />\n\nParameters let you:\n✅ Customize component behavior\n✅ Pass data from parent to child\n✅ Make components reusable\n✅ Configure appearance/logic\n\nTypes of parameters:\n• Simple values (string, int, bool)\n• Complex objects (Product, Customer)\n• Collections (List<T>, arrays)\n• Event callbacks (EventCallback<T>)\n• RenderFragments (child content)\n\nThink: Parameters = 'The inputs that make your component flexible and reusable!'",
  "coderExample": "// SIMPLE PARAMETERS\n@code {\n    [Parameter]\n    public string Title { get; set; } = \"Default Title\";\n    \n    [Parameter]\n    public int Count { get; set; } = 0;\n    \n    [Parameter]\n    public bool IsVisible { get; set; } = true;\n}\n\n// COMPLEX OBJECT PARAMETER\npublic class Product {\n    public string Name { get; set; }\n    public decimal Price { get; set; }\n}\n\n@code {\n    [Parameter]\n    public Product ProductData { get; set; }\n}\n<p>@ProductData.Name: $@ProductData.Price</p>\n\n// COLLECTION PARAMETER\n@code {\n    [Parameter]\n    public List<string> Items { get; set; } = new();\n}\n@foreach (var item in Items) {\n    <li>@item</li>\n}\n\n// EVENT CALLBACK PARAMETER\n@code {\n    [Parameter]\n    public EventCallback<int> OnValueChanged { get; set; }\n    \n    private async Task NotifyParent(int value) {\n        await OnValueChanged.InvokeAsync(value);\n    }\n}\n\n// CHILD CONTENT (RENDERFRAGMENT)\n@code {\n    [Parameter]\n    public RenderFragment ChildContent { get; set; }\n}\n<div class=\"card\">\n    @ChildContent\n</div>\n// Usage: <Card><p>This goes inside!</p></Card>\n\n// CASCADING PARAMETERS\n<CascadingValue Value=\"@currentUser\">\n    <ChildComponent />  // Receives currentUser automatically\n</CascadingValue>\n\n@code {\n    [CascadingParameter]\n    public User CurrentUser { get; set; }\n}",
  "syntaxBreakdown": [
    {
      "codeSnippet": "[Parameter] public Type Name { get; set; }",
      "explanation": "Standard parameter. Must be public with [Parameter] attribute. Can set default value with = \"default\". Passed from parent component."
    },
    {
      "codeSnippet": "EventCallback<T>",
      "explanation": "Parameter for events. T is data type passed to parent. Use InvokeAsync(value) to trigger. EventCallback (no <T>) for no data."
    },
    {
      "codeSnippet": "RenderFragment",
      "explanation": "Special parameter type for child content. Lets parent pass HTML/components as parameter. Name it 'ChildContent' for default slot."
    },
    {
      "codeSnippet": "[CascadingParameter]",
      "explanation": "Receives value from CascadingValue ancestor. No need to pass through every level! Useful for themes, user context, etc."
    }
  ],
  "challenge": {
    "instructions": "Build a flexible Button component with many parameters!\n\n1. CustomButton.razor:\n   - [Parameter] string Text\n   - [Parameter] string Color (\"primary\", \"danger\", \"success\")\n   - [Parameter] bool IsDisabled\n   - [Parameter] EventCallback OnClick\n   - Apply Bootstrap classes based on Color\n   - Disable if IsDisabled\n\n2. ButtonGroup.razor that uses CustomButton:\n   - Create 3 buttons: Save (success), Delete (danger), Cancel (primary)\n   - Track which button was clicked\n   - Display last action\n\n3. Demonstrate parameter flexibility\n\nPrint both components!",
    "starterCode": "// CustomButton.razor\n<button \n    class=\"btn btn-@Color\" \n    disabled=\"@IsDisabled\"\n    @onclick=\"HandleClick\">\n    @Text\n</button>\n\n@code {\n    [Parameter]\n    public string Text { get; set; } = \"Button\";\n    \n    [Parameter]\n    public string Color { get; set; } = \"primary\";\n    \n    [Parameter]\n    public bool IsDisabled { get; set; } = false;\n    \n    [Parameter]\n    public EventCallback OnClick { get; set; }\n    \n    private async Task HandleClick()\n    {\n        if (!IsDisabled)\n            await OnClick.InvokeAsync();\n    }\n}\n\n// ButtonGroup.razor\n<div>\n    <h4>Actions</h4>\n    \n    <CustomButton \n        Text=\"Save\" \n        Color=\"success\" \n        OnClick=\"() => HandleAction(\\\"Save\\\")\" />\n    \n    <!-- Add Delete and Cancel buttons -->\n    \n    <p class=\"mt-3\">Last Action: @lastAction</p>\n</div>\n\n@code {\n    private string lastAction = \"None\";\n    \n    private void HandleAction(string action)\n    {\n        lastAction = action;\n    }\n}",
    "solutionCode": "using System;\n\nConsole.WriteLine(@\"\n=== CUSTOMBUTTON COMPONENT ===\");\nConsole.WriteLine(@\"\n// CustomButton.razor\n<button \n    class=\"\"btn btn-@Color @(IsDisabled ? \\\"\"disabled\\\"\" : \"\"\"\")\"\" \n    disabled=\"\"@IsDisabled\"\"\n    @onclick=\"\"HandleClick\"\"\n    style=\"\"margin: 5px;\"\">\n    @Text\n</button>\n\n@code {\n    [Parameter]\n    public string Text { get; set; } = \"\"Button\"\";\n    \n    [Parameter]\n    public string Color { get; set; } = \"\"primary\"\";\n    \n    [Parameter]\n    public bool IsDisabled { get; set; } = false;\n    \n    [Parameter]\n    public EventCallback<string> OnClick { get; set; }\n    \n    private async Task HandleClick()\n    {\n        if (!IsDisabled)\n        {\n            Console.WriteLine($\"\"Button '{Text}' clicked!\"\");\n            await OnClick.InvokeAsync(Text);\n        }\n    }\n}\n\"\");\n\nConsole.WriteLine(@\"\n=== BUTTONGROUP COMPONENT ===\");\nConsole.WriteLine(@\"\n// ButtonGroup.razor\n<div class=\"\"button-group-demo\"\">\n    <h4>Action Buttons</h4>\n    \n    <div class=\"\"btn-group\"\">\n        <CustomButton \n            Text=\"\"Save\"\" \n            Color=\"\"success\" \n            IsDisabled=\"\"false\"\n            OnClick=\"\"HandleAction\"\" />\n        \n        <CustomButton \n            Text=\"\"Delete\"\" \n            Color=\"\"danger\" \n            IsDisabled=\"\"false\"\n            OnClick=\"\"HandleAction\"\" />\n        \n        <CustomButton \n            Text=\"\"Cancel\"\" \n            Color=\"\"secondary\" \n            IsDisabled=\"\"false\"\n            OnClick=\"\"HandleAction\"\" />\n        \n        <CustomButton \n            Text=\"\"Disabled\"\" \n            Color=\"\"primary\" \n            IsDisabled=\"\"true\"\n            OnClick=\"\"HandleAction\"\" />\n    </div>\n    \n    <div class=\"\"alert alert-info mt-3\"\">\n        <strong>Last Action:</strong> @lastAction\n    </div>\n    \n    @if (actionCount > 0)\n    {\n        <p><small>Total actions: @actionCount</small></p>\n    }\n</div>\n\n@code {\n    private string lastAction = \"\"None\"\";\n    private int actionCount = 0;\n    \n    private void HandleAction(string buttonText)\n    {\n        lastAction = buttonText;\n        actionCount++;\n        Console.WriteLine($\"\"Action performed: {buttonText} (Total: {actionCount})\"\");\n    }\n}\n\"\");\n\nConsole.WriteLine(@\"\n=== PARAMETER BENEFITS ===\");\nConsole.WriteLine(\"✓ ONE CustomButton component\");\nConsole.WriteLine(\"✓ MULTIPLE instances with different:\");\nConsole.WriteLine(\"  - Text (\\\"Save\\\", \\\"Delete\\\", \\\"Cancel\\\")\");\nConsole.WriteLine(\"  - Color (success, danger, secondary)\");\nConsole.WriteLine(\"  - IsDisabled (true/false)\");\nConsole.WriteLine(\"  - OnClick (different actions)\");\nConsole.WriteLine(\"\\n✓ Reusability + Flexibility = Powerful components!\");",
    "hint": "[Parameter] makes property configurable. EventCallback<T> for passing data back. Invoke with await callback.InvokeAsync(data). Bootstrap: btn-primary, btn-success, btn-danger.",
    "expectedOutputPatterns": ["CustomButton", "ButtonGroup", "[Parameter]", "Color", "IsDisabled", "OnClick"],
    "validationRules": [],
    "commonStickingPoints": [
      "Required parameters: No built-in [Required] for Blazor parameters! Check in OnParametersSet(): 'if (string.IsNullOrEmpty(Name)) throw new ArgumentNullException();'.",
      "Parameter change detection: OnParametersSet() called when parent changes parameters. Use to react: 'protected override void OnParametersSet() { UpdateData(); }'.",
      "Two-way binding: For @bind, need [Parameter] Value AND [Parameter] ValueChanged EventCallback<T>. Or use @bind-Value syntax. Naming convention matters!",
      "Default values: Set default in property initializer or constructor, NOT in OnInitialized! Property initializer: 'public string Color { get; set; } = \"primary\";'."
    ]
  }
}
