{
  "moduleId": 13,
  "lessonNumber": 7,
  "lessonId": "M13L07",
  "title": "QuickGrid Component (.NET 8 Feature)",
  "simplifierConcept": "QuickGrid is like an Excel spreadsheet for your data:\n\nWithout QuickGrid (manual):\nâ€¢ Build table HTML yourself\nâ€¢ Write sorting logic\nâ€¢ Write filtering code\nâ€¢ Write paging manually\nâ€¢ Handle loading states\nâ€¢ 200+ lines of code!\n\nWith QuickGrid (.NET 8):\nâ€¢ <QuickGrid Items=\"@products\" />\nâ€¢ Add columns\nâ€¢ Sorting? Built-in!\nâ€¢ Filtering? Built-in!\nâ€¢ Paging? Built-in!\nâ€¢ 20 lines of code!\n\nQuickGrid features:\nâœ… Sorting (click column headers)\nâœ… Filtering\nâœ… Pagination\nâœ… Virtualization (huge datasets)\nâœ… Custom templates\nâœ… Responsive\n\nThink: QuickGrid = 'Professional data grid with superpowers, included free in .NET 8!'",
  "coderExample": "// INSTALL: Microsoft.AspNetCore.Components.QuickGrid\n// (Included in .NET 8 templates!)\n\nusing Microsoft.AspNetCore.Components.QuickGrid;\n\n// BASIC QUICKGRID\n<QuickGrid Items=\"@products\">\n    <PropertyColumn Property=\"@(p => p.Name)\" Sortable=\"true\" />\n    <PropertyColumn Property=\"@(p => p.Price)\" Format=\"C2\" Sortable=\"true\" />\n    <PropertyColumn Property=\"@(p => p.Stock)\" />\n</QuickGrid>\n\n@code {\n    private List<Product> products = new() {\n        new Product { Name = \"Laptop\", Price = 999.99m, Stock = 5 },\n        new Product { Name = \"Mouse\", Price = 29.99m, Stock = 50 }\n    };\n}\n\n// ADVANCED WITH CUSTOM COLUMNS\n<QuickGrid Items=\"@products\" Class=\"table table-striped\">\n    <PropertyColumn Property=\"@(p => p.Name)\" Title=\"Product\" />\n    \n    <TemplateColumn Title=\"Price\">\n        <span class=\"@(context.Price > 500 ? \"text-danger\" : \"text-success\")\">\n            $@context.Price\n        </span>\n    </TemplateColumn>\n    \n    <TemplateColumn Title=\"Actions\">\n        <button @onclick=\"() => Edit(context)\">Edit</button>\n        <button @onclick=\"() => Delete(context)\">Delete</button>\n    </TemplateColumn>\n</QuickGrid>\n\n// WITH PAGINATION\n<QuickGrid Items=\"@products\" Pagination=\"@pagination\">\n    <PropertyColumn Property=\"@(p => p.Name)\" />\n</QuickGrid>\n<Paginator State=\"@pagination\" />\n\n@code {\n    private PaginationState pagination = new PaginationState { ItemsPerPage = 10 };\n}\n\n// WITH IASYNCQUERYABLE (DATABASE)\n<QuickGrid Items=\"@context.Products.AsQueryable()\">\n    // Queries database efficiently!\n</QuickGrid>\n\n// FILTERING\n<input @bind=\"searchTerm\" @bind:event=\"oninput\" placeholder=\"Search...\" />\n<QuickGrid Items=\"@FilteredProducts\">\n    <PropertyColumn Property=\"@(p => p.Name)\" />\n</QuickGrid>\n\n@code {\n    private string searchTerm = \"\";\n    private IQueryable<Product> FilteredProducts => \n        products.AsQueryable()\n                .Where(p => p.Name.Contains(searchTerm, StringComparison.OrdinalIgnoreCase));\n}",
  "syntaxBreakdown": [
    {
      "codeSnippet": "<QuickGrid Items=\"@collection\">",
      "explanation": "Main component. Items = IQueryable<T> or IEnumerable<T>. IQueryable is better (database queries optimized!). Renders HTML table."
    },
    {
      "codeSnippet": "<PropertyColumn Property=\"@(p => p.Name)\" />",
      "explanation": "Column for a property. Lambda selects property. Sortable=\"true\" enables sorting. Format=\"C2\" for currency, \"P\" for percent."
    },
    {
      "codeSnippet": "<TemplateColumn>",
      "explanation": "Custom column content. Access item via 'context'. Full control: buttons, badges, conditional styling. Use for actions, custom rendering."
    },
    {
      "codeSnippet": "Pagination=\"@state\"",
      "explanation": "Enable paging. Create PaginationState with ItemsPerPage. Use <Paginator State=\"@state\" /> to show page controls. Efficient for large datasets!"
    }
  ],
  "challenge": {
    "instructions": "Build a Product Inventory Manager with QuickGrid!\n\n1. Product model:\n   - int Id\n   - string Name\n   - decimal Price\n   - int Stock\n   - string Category\n   - bool IsAvailable\n\n2. Create QuickGrid with:\n   - Property columns: Name (sortable), Category, Stock\n   - Template column for Price (red if > $500, green otherwise)\n   - Template column for Status (badge: In Stock / Low Stock / Out)\n   - Template column for Actions (Edit, Delete buttons)\n   - Enable sorting on Name and Price\n\n3. Add search filter input\n4. Add pagination (10 items per page)\n5. Show total products count\n\nPrint complete component!",
    "starterCode": "using Microsoft.AspNetCore.Components.QuickGrid;\n\n// ProductInventory.razor\n<div>\n    <h3>ðŸ“¦ Product Inventory</h3>\n    \n    <input @bind=\"searchTerm\" placeholder=\"Search products...\" />\n    \n    <QuickGrid Items=\"@FilteredProducts\">\n        <PropertyColumn Property=\"@(p => p.Name)\" Sortable=\"true\" />\n        <!-- Add other columns -->\n    </QuickGrid>\n    \n    <p>Total Products: @products.Count</p>\n</div>\n\n@code {\n    private class Product {\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public decimal Price { get; set; }\n        public int Stock { get; set; }\n        public string Category { get; set; }\n    }\n    \n    private List<Product> products = new();\n    private string searchTerm = \"\";\n}",
    "solutionCode": "Console.WriteLine(@\"\n// ProductInventory.razor\nusing Microsoft.AspNetCore.Components.QuickGrid;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\n<div class=\"\"container\"\">\n    <h3>ðŸ“¦ Product Inventory Manager</h3>\n    \n    <div class=\"\"mb-3\"\">\n        <input class=\"\"form-control\"\" \n               @bind=\"\"searchTerm\"\" \n               @bind:event=\"\"oninput\"\"\n               placeholder=\"\"ðŸ” Search products...\"\" />\n    </div>\n    \n    <QuickGrid Items=\"\"@FilteredProducts\"\" Class=\"\"table table-hover\"\" Pagination=\"\"@pagination\"\">\n        <PropertyColumn Property=\"\"@(p => p.Name)\"\" Title=\"\"Product Name\"\" Sortable=\"\"true\"\" />\n        \n        <PropertyColumn Property=\"\"@(p => p.Category)\"\" Title=\"\"Category\"\" Sortable=\"\"true\"\" />\n        \n        <TemplateColumn Title=\"\"Price\"\" Sortable=\"\"true\"\" SortBy=\"\"@(GridSort<Product>.ByAscending(p => p.Price))\"\">\n            <span class=\"\"@(context.Price > 500 ? \\\"\"text-danger fw-bold\\\"\" : \\\"\"text-success\\\"\")\"\">\n                $@context.Price.ToString(\\\"\"F2\\\"\")\n            </span>\n        </TemplateColumn>\n        \n        <TemplateColumn Title=\"\"Stock Status\"\">\n            @if (context.Stock == 0)\n            {\n                <span class=\"\"badge bg-danger\"\">Out of Stock</span>\n            }\n            else if (context.Stock < 10)\n            {\n                <span class=\"\"badge bg-warning\"\">Low Stock (@context.Stock)</span>\n            }\n            else\n            {\n                <span class=\"\"badge bg-success\"\">In Stock (@context.Stock)</span>\n            }\n        </TemplateColumn>\n        \n        <TemplateColumn Title=\"\"Available\"\">\n            @if (context.IsAvailable)\n            {\n                <span class=\"\"text-success\"\">âœ“</span>\n            }\n            else\n            {\n                <span class=\"\"text-danger\"\">âœ—</span>\n            }\n        </TemplateColumn>\n        \n        <TemplateColumn Title=\"\"Actions\"\">\n            <button class=\"\"btn btn-sm btn-primary\"\" @onclick=\"\"() => EditProduct(context.Id)\"\">Edit</button>\n            <button class=\"\"btn btn-sm btn-danger\"\" @onclick=\"\"() => DeleteProduct(context.Id)\"\">Delete</button>\n        </TemplateColumn>\n    </QuickGrid>\n    \n    <Paginator State=\"\"@pagination\"\" />\n    \n    <div class=\"\"mt-3\"\">\n        <strong>Total Products: @products.Count</strong> | \n        <strong>Showing: @FilteredProducts.Count()</strong>\n    </div>\n</div>\n\n@code {\n    private class Product {\n        public int Id { get; set; }\n        public string Name { get; set; } = \"\"\"\";\n        public decimal Price { get; set; }\n        public int Stock { get; set; }\n        public string Category { get; set; } = \"\"\"\";\n        public bool IsAvailable { get; set; }\n    }\n    \n    private List<Product> products = new() {\n        new Product { Id = 1, Name = \"\"Laptop\"\", Price = 999.99m, Stock = 5, Category = \"\"Electronics\"\", IsAvailable = true },\n        new Product { Id = 2, Name = \"\"Mouse\"\", Price = 29.99m, Stock = 50, Category = \"\"Electronics\"\", IsAvailable = true },\n        new Product { Id = 3, Name = \"\"Monitor\"\", Price = 399.99m, Stock = 0, Category = \"\"Electronics\"\", IsAvailable = false },\n        new Product { Id = 4, Name = \"\"Keyboard\"\", Price = 79.99m, Stock = 8, Category = \"\"Electronics\"\", IsAvailable = true },\n        new Product { Id = 5, Name = \"\"Desk\"\", Price = 299.99m, Stock = 15, Category = \"\"Furniture\"\", IsAvailable = true }\n    };\n    \n    private string searchTerm = \"\"\"\";\n    private PaginationState pagination = new PaginationState { ItemsPerPage = 10 };\n    \n    private IQueryable<Product> FilteredProducts =>\n        products.AsQueryable()\n                .Where(p => string.IsNullOrEmpty(searchTerm) || \n                           p.Name.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) ||\n                           p.Category.Contains(searchTerm, StringComparison.OrdinalIgnoreCase));\n    \n    private void EditProduct(int id) {\n        Console.WriteLine($\"\"Edit product {id}\"\");\n    }\n    \n    private void DeleteProduct(int id) {\n        var product = products.FirstOrDefault(p => p.Id == id);\n        if (product != null) {\n            products.Remove(product);\n            Console.WriteLine($\"\"Deleted: {product.Name}\"\");\n        }\n    }\n}\n\"\");\n\nConsole.WriteLine(@\"\n=== QUICKGRID BENEFITS ===\");\nConsole.WriteLine(\"âœ“ Built-in sorting (click column headers)\");\nConsole.WriteLine(\"âœ“ Pagination with Paginator component\");\nConsole.WriteLine(\"âœ“ Custom templates for complex columns\");\nConsole.WriteLine(\"âœ“ Conditional styling (colors, badges)\");\nConsole.WriteLine(\"âœ“ Action buttons (Edit, Delete)\");\nConsole.WriteLine(\"âœ“ Responsive table layout\");\nConsole.WriteLine(\"\\nâœ“ Professional data grid with minimal code!\");",
    "hint": "PropertyColumn for simple properties. TemplateColumn for custom content. Sortable=\"true\" enables sorting. Use 'context' in templates to access row item. Pagination with PaginationState.",
    "expectedOutputPatterns": ["QuickGrid", "PropertyColumn", "TemplateColumn", "Pagination", "Sortable"],
    "validationRules": [],
    "commonStickingPoints": [
      "IQueryable vs IEnumerable: Use IQueryable when possible (especially with EF Core)! Sorting/paging happens in database. IEnumerable loads all data first (slow!).",
      "Missing NuGet package: QuickGrid requires Microsoft.AspNetCore.Components.QuickGrid package. In .NET 8+ templates, it's included. Older projects need manual install.",
      "Context in templates: Inside TemplateColumn, use 'context' to access current row item! '@context.Name', '@context.Price'. Don't forget 'context.'!",
      "Pagination state: Must create PaginationState instance and pass to both QuickGrid AND Paginator! If mismatch, pagination breaks. Same instance for both!"
    ]
  }
}
