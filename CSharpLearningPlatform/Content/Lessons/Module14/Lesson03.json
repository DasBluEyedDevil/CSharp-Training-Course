{
  "moduleId": 14,
  "lessonNumber": 3,
  "lessonId": "M14L03",
  "title": "Version Control with Git (Save Your Work!)",
  "simplifierConcept": "Git is like a time machine for your code:\n\nWithout Git:\n• MyProject_v1.zip\n• MyProject_v2_FINAL.zip\n• MyProject_v2_FINAL_ACTUALLY_FINAL.zip\n• Mess!\n\nWith Git:\n• Track every change\n• Go back to any version\n• Work on features in branches\n• Collaborate with team\n• Never lose work!\n\nKey concepts:\n• COMMIT: Save snapshot of code\n• BRANCH: Work on features separately\n• PUSH: Upload to GitHub/Azure\n• PULL: Download from GitHub/Azure\n\nThink: Git = 'Professional version control. Every project needs it!'",
  "coderExample": "// GIT BASICS\n\n// Initialize repository\ngit init\n\n// Check status\ngit status\n\n// Add files to staging\ngit add .\ngit add Program.cs\n\n// Commit changes\ngit commit -m \"Add product CRUD endpoints\"\n\n// View history\ngit log\ngit log --oneline\n\n// BRANCHING\ngit branch feature/add-auth  // Create branch\ngit checkout feature/add-auth  // Switch to branch\ngit checkout -b feature/new-ui  // Create and switch\n\n// Work on feature, then merge\ngit checkout main\ngit merge feature/add-auth\n\n// REMOTE (GitHub/Azure DevOps)\ngit remote add origin https://github.com/user/repo.git\ngit push -u origin main\ngit pull origin main\n\n// TYPICAL WORKFLOW\n// 1. Create feature branch\ngit checkout -b feature/user-profile\n\n// 2. Make changes, commit often\ngit add .\ngit commit -m \"Add user profile page\"\n\n// 3. Push to remote\ngit push origin feature/user-profile\n\n// 4. Create Pull Request on GitHub\n// 5. Review, merge to main\n\n// USEFUL COMMANDS\ngit diff  // See changes\ngit restore Program.cs  // Undo changes\ngit reset --soft HEAD~1  // Undo last commit\ngit stash  // Save work temporarily\ngit stash pop  // Restore stashed work",
  "syntaxBreakdown": [
    {
      "codeSnippet": "git add / git commit",
      "explanation": "'git add' stages files. 'git commit' saves snapshot. Commit message describes change. Use present tense: 'Add feature' not 'Added feature'."
    },
    {
      "codeSnippet": "git branch / git checkout",
      "explanation": "Branches = separate timelines. Work on feature without affecting main. Checkout switches branches. Merge brings changes together."
    },
    {
      "codeSnippet": "git push / git pull",
      "explanation": "Push uploads commits to GitHub. Pull downloads from GitHub. Sync with team! Push often to back up work."
    },
    {
      "codeSnippet": ".gitignore",
      "explanation": "File listing what to ignore. Add: bin/, obj/, *.user, .vs/. Don't commit build outputs or secrets!"
    }
  ],
  "challenge": {
    "instructions": "Git workflow simulation!\n\nSimulate these Git commands (print what each does):\n\n1. git init - Initialize repository\n2. git add . - Stage all files\n3. git commit -m \"Initial commit\" - First commit\n4. git status - Check status\n5. git branch feature/add-books - Create feature branch\n6. git checkout feature/add-books - Switch to branch\n7. (Make changes)\n8. git add .\n9. git commit -m \"Add book CRUD\"\n10. git checkout main - Back to main\n11. git merge feature/add-books - Merge feature\n12. git push origin main - Push to GitHub\n\nExplain each step!",
    "starterCode": "Console.WriteLine(\"=== GIT WORKFLOW SIMULATION ===\");\n\nConsole.WriteLine(\"\\n1. git init\");\nConsole.WriteLine(\"   Creates new Git repository in current folder\");\nConsole.WriteLine(\"   Initializes .git folder to track changes\");\n\n// Add other steps...",
    "solutionCode": "Console.WriteLine(\"═══════════════════════════════════════════\");\nConsole.WriteLine(\"  GIT VERSION CONTROL WORKFLOW\");\nConsole.WriteLine(\"═══════════════════════════════════════════\\n\");\n\nConsole.WriteLine(\"STEP 1: Initialize Repository\");\nConsole.WriteLine(\"  Command: git init\");\nConsole.WriteLine(\"  Creates .git folder\");\nConsole.WriteLine(\"  Repository ready to track changes\\n\");\n\nConsole.WriteLine(\"STEP 2: Stage Files\");\nConsole.WriteLine(\"  Command: git add .\");\nConsole.WriteLine(\"  Stages all files for commit\");\nConsole.WriteLine(\"  Files in 'staging area' ready to commit\\n\");\n\nConsole.WriteLine(\"STEP 3: First Commit\");\nConsole.WriteLine(\"  Command: git commit -m 'Initial commit'\");\nConsole.WriteLine(\"  Saves snapshot of code\");\nConsole.WriteLine(\"  Commit ID: abc123... (unique hash)\\n\");\n\nConsole.WriteLine(\"STEP 4: Check Status\");\nConsole.WriteLine(\"  Command: git status\");\nConsole.WriteLine(\"  Shows: current branch, staged/unstaged files\");\nConsole.WriteLine(\"  Output: 'On branch main, nothing to commit'\\n\");\n\nConsole.WriteLine(\"STEP 5: Create Feature Branch\");\nConsole.WriteLine(\"  Command: git branch feature/add-books\");\nConsole.WriteLine(\"  Creates new branch for book feature\");\nConsole.WriteLine(\"  Doesn't switch yet - still on main\\n\");\n\nConsole.WriteLine(\"STEP 6: Switch to Feature Branch\");\nConsole.WriteLine(\"  Command: git checkout feature/add-books\");\nConsole.WriteLine(\"  Now working on feature branch\");\nConsole.WriteLine(\"  Changes won't affect main branch\\n\");\n\nConsole.WriteLine(\"STEP 7: Make Changes\");\nConsole.WriteLine(\"  Edit files: BookController.cs, BookService.cs\");\nConsole.WriteLine(\"  Add new files: Book.cs, IBookRepository.cs\\n\");\n\nConsole.WriteLine(\"STEP 8: Stage Changes\");\nConsole.WriteLine(\"  Command: git add .\");\nConsole.WriteLine(\"  Stages all modified and new files\\n\");\n\nConsole.WriteLine(\"STEP 9: Commit Feature\");\nConsole.WriteLine(\"  Command: git commit -m 'Add book CRUD operations'\");\nConsole.WriteLine(\"  Saves book feature snapshot\");\nConsole.WriteLine(\"  Feature complete on branch!\\n\");\n\nConsole.WriteLine(\"STEP 10: Return to Main\");\nConsole.WriteLine(\"  Command: git checkout main\");\nConsole.WriteLine(\"  Switches back to main branch\");\nConsole.WriteLine(\"  Book files disappear (they're on feature branch)\\n\");\n\nConsole.WriteLine(\"STEP 11: Merge Feature\");\nConsole.WriteLine(\"  Command: git merge feature/add-books\");\nConsole.WriteLine(\"  Brings book feature into main\");\nConsole.WriteLine(\"  Book files now in main branch!\\n\");\n\nConsole.WriteLine(\"STEP 12: Push to GitHub\");\nConsole.WriteLine(\"  Command: git push origin main\");\nConsole.WriteLine(\"  Uploads main branch to GitHub\");\nConsole.WriteLine(\"  Team can see changes, code is backed up!\\n\");\n\nConsole.WriteLine(\"═══════════════════════════════════════════\");\nConsole.WriteLine(\"✓ Professional Git workflow complete!\");\nConsole.WriteLine(\"✓ Feature developed in isolation\");\nConsole.WriteLine(\"✓ Merged to main when ready\");\nConsole.WriteLine(\"✓ Pushed to remote for backup/collaboration\");",
    "hint": "git init → add → commit. Create branch, checkout, make changes, commit. Checkout main, merge branch. Push to remote. Learn: add, commit, branch, merge, push!",
    "expectedOutputPatterns": ["git init", "git add", "git commit", "branch", "merge", "push"],
    "validationRules": [],
    "commonStickingPoints": [
      "Committing without staging: 'git commit' commits STAGED files only! Must 'git add' first. 'git commit -am' stages and commits modified files (but not new files!).",
      "Merge conflicts: If same file edited in two branches, merge creates conflict! Git marks conflicts in file. Resolve manually, then 'git add' and 'git commit'.",
      "Not pulling before push: Always 'git pull' before 'git push'! If remote has changes you don't have, push rejected. Pull first, resolve conflicts, then push.",
      "Committing secrets: NEVER commit passwords, API keys, connection strings! Use .gitignore for appsettings.json. Use environment variables or Azure Key Vault."
    ]
  }
}
