{
  "moduleId": 7,
  "lessonNumber": 3,
  "lessonId": "M07L03",
  "title": "Abstract Classes (The Unfinished Blueprint)",
  "simplifierConcept": "Imagine an architect creates a 'Building' blueprint but leaves some parts intentionally blank: 'Each building MUST have an entrance, but I'm not specifying what kind - you figure that out!'\n\nThat's an ABSTRACT CLASS! It's an INCOMPLETE blueprint that:\n• CAN'T be instantiated directly (can't create a 'Building' object)\n• MUST be inherited\n• Can have ABSTRACT methods (no implementation - derived classes MUST provide it)\n• Can also have regular (concrete) methods with full implementation\n\nWhen to use: When classes share common features, but some features don't make sense in the base class. 'Animal.MakeSound()' - what sound does a generic animal make? Doesn't make sense! Make it abstract - force Dog, Cat to implement it.\n\nAbstract = 'Template with mandatory blanks to fill in'.",
  "coderExample": "// ABSTRACT CLASS - can't be instantiated\nabstract class Shape\n{\n    public string Color;  // Regular property\n    \n    // ABSTRACT method - no implementation!\n    public abstract double CalculateArea();\n    \n    // ABSTRACT method\n    public abstract double CalculatePerimeter();\n    \n    // Regular (concrete) method\n    public void Display()\n    {\n        Console.WriteLine(Color + \" shape with area: \" + CalculateArea());\n    }\n}\n\n// Derived class MUST implement abstract methods\nclass Circle : Shape\n{\n    public double Radius;\n    \n    // MUST override abstract methods\n    public override double CalculateArea()\n    {\n        return Math.PI * Radius * Radius;\n    }\n    \n    public override double CalculatePerimeter()\n    {\n        return 2 * Math.PI * Radius;\n    }\n}\n\nclass Rectangle : Shape\n{\n    public double Width, Height;\n    \n    public override double CalculateArea()\n    {\n        return Width * Height;\n    }\n    \n    public override double CalculatePerimeter()\n    {\n        return 2 * (Width + Height);\n    }\n}\n\n// Usage\n// Shape s = new Shape();  // ERROR! Can't instantiate abstract class\nShape circle = new Circle() { Radius = 5, Color = \"Red\" };\ncircle.Display();  // Inherited method works!",
  "syntaxBreakdown": [
    {
      "codeSnippet": "abstract class ClassName",
      "explanation": "'abstract' keyword makes class abstract. Can't do 'new ClassName()' - you MUST inherit and use derived classes."
    },
    {
      "codeSnippet": "public abstract void Method();",
      "explanation": "Abstract method has NO BODY (no { }), just semicolon! Derived classes MUST override and provide implementation. Like a contract: 'you must implement this!'"
    },
    {
      "codeSnippet": "Concrete methods in abstract class",
      "explanation": "Abstract classes CAN have regular methods with implementation! Mix of abstract (must override) and concrete (inherited as-is) methods is common."
    },
    {
      "codeSnippet": "Forcing implementation",
      "explanation": "If you inherit from abstract class, compiler FORCES you to override all abstract methods! Forget one = compile error. This ensures consistency."
    }
  ],
  "challenge": {
    "instructions": "Create an abstract Employee system!\n\n1. ABSTRACT CLASS 'Employee':\n   - Properties: string Name, int ID\n   - ABSTRACT method CalculateSalary() returns decimal\n   - Regular method Display(): prints employee info and salary\n\n2. DERIVED 'HourlyEmployee':\n   - Properties: decimal HourlyRate, int HoursWorked\n   - Override CalculateSalary(): return HourlyRate * HoursWorked\n\n3. DERIVED 'SalariedEmployee':\n   - Property: decimal AnnualSalary\n   - Override CalculateSalary(): return AnnualSalary / 12 (monthly)\n\n4. Create both types, call Display()",
    "starterCode": "abstract class Employee\n{\n    public string Name;\n    public int ID;\n    \n    // Abstract method\n    \n    // Regular method\n    public void Display()\n    {\n        Console.WriteLine(Name + \" (ID: \" + ID + \")\");\n        Console.WriteLine(\"Salary: $\" + CalculateSalary());\n    }\n}\n\nclass HourlyEmployee : Employee\n{\n    // Properties and override\n}\n\nclass SalariedEmployee : Employee\n{\n    // Properties and override\n}",
    "solutionCode": "abstract class Employee\n{\n    public string Name;\n    public int ID;\n    \n    public abstract decimal CalculateSalary();\n    \n    public void Display()\n    {\n        Console.WriteLine(Name + \" (ID: \" + ID + \")\");\n        Console.WriteLine(\"Salary: $\" + CalculateSalary());\n    }\n}\n\nclass HourlyEmployee : Employee\n{\n    public decimal HourlyRate;\n    public int HoursWorked;\n    \n    public override decimal CalculateSalary()\n    {\n        return HourlyRate * HoursWorked;\n    }\n}\n\nclass SalariedEmployee : Employee\n{\n    public decimal AnnualSalary;\n    \n    public override decimal CalculateSalary()\n    {\n        return AnnualSalary / 12;\n    }\n}\n\nHourlyEmployee emp1 = new HourlyEmployee();\nemp1.Name = \"John\";\nemp1.ID = 101;\nemp1.HourlyRate = 25;\nemp1.HoursWorked = 160;\nemp1.Display();\n\nSalariedEmployee emp2 = new SalariedEmployee();\nemp2.Name = \"Jane\";\nemp2.ID = 102;\nemp2.AnnualSalary = 60000;\nemp2.Display();",
    "hint": "Abstract class: 'abstract class Name'. Abstract method: 'public abstract ReturnType Method();' (no body!). Derived MUST override abstract methods.",
    "expectedOutputPatterns": ["Salary", "ID"],
    "validationRules": [],
    "commonStickingPoints": [
      "Trying to instantiate abstract class: 'Employee e = new Employee();' is ERROR! Abstract classes can't be created directly - use derived classes.",
      "Forgetting to override abstract methods: If you inherit from abstract class, you MUST override all abstract methods! Compiler will complain if you don't.",
      "Adding body to abstract method: 'public abstract void Method() { }' is WRONG! Abstract methods don't have bodies - just the declaration with semicolon.",
      "When to use abstract vs interface: Use abstract class when you have SOME shared implementation. Use interface (next lesson) when you have NO implementation, just a contract."
    ]
  }
}
