{
  "moduleId": 6,
  "lessonNumber": 2,
  "lessonId": "M06L02",
  "title": "Constructors (Initializing Objects)",
  "simplifierConcept": "When you build a house, it should come with basics installed:\nðŸšª Doors\nðŸªŸ Windows\nðŸ’¡ Electricity\n\nYou don't want an empty shell!\n\nSame with objects. Instead of:\nPerson p = new Person();\np.Name = \"Alice\";  // Tedious!\np.Age = 25;\np.Email = \"alice@email.com\";\n\nUse a CONSTRUCTOR:\nPerson p = new Person(\"Alice\", 25, \"alice@email.com\");  // Clean!\n\nCONSTRUCTOR = Special method that runs when object is created\n- Same name as class\n- No return type (not even void!)\n- Automatically called with 'new'\n\nThink: Constructor sets up the object with initial values!",
  "coderExample": "// CLASS WITHOUT CONSTRUCTOR\nclass PersonOldWay\n{\n    public string Name;\n    public int Age;\n}\n\nPersonOldWay p1 = new PersonOldWay();\np1.Name = \"Alice\";  // Must set each field\np1.Age = 25;\n\n// CLASS WITH CONSTRUCTOR\nclass Person\n{\n    public string Name;\n    public int Age;\n    \n    // Constructor - same name as class, no return type\n    public Person(string name, int age)\n    {\n        Name = name;\n        Age = age;\n        Console.WriteLine($\"Creating person: {name}\");\n    }\n}\n\nPerson p2 = new Person(\"Bob\", 30);  // Clean! All data passed at once\n\n// MULTIPLE CONSTRUCTORS (Overloading)\nclass Book\n{\n    public string Title;\n    public string Author;\n    public int Pages;\n    \n    // Constructor 1: All parameters\n    public Book(string title, string author, int pages)\n    {\n        Title = title;\n        Author = author;\n        Pages = pages;\n    }\n    \n    // Constructor 2: Title and Author only (default Pages)\n    public Book(string title, string author)\n    {\n        Title = title;\n        Author = author;\n        Pages = 0;  // Default value\n    }\n    \n    // Constructor 3: Title only\n    public Book(string title)\n    {\n        Title = title;\n        Author = \"Unknown\";\n        Pages = 0;\n    }\n}\n\nBook book1 = new Book(\"C# Guide\", \"John Doe\", 450);  // Uses constructor 1\nBook book2 = new Book(\"Advanced C#\", \"Jane Smith\");  // Uses constructor 2\nBook book3 = new Book(\"Quick Reference\");  // Uses constructor 3\n\n// DEFAULT CONSTRUCTOR\nclass Product\n{\n    public string Name;\n    public double Price;\n    \n    // If you don't write ANY constructor, C# provides this:\n    // public Product() { }  // Empty default constructor\n}\n\nProduct p = new Product();  // Works! Default constructor provided\n\n// CONSTRUCTOR WITH VALIDATION\nclass BankAccount\n{\n    public string AccountNumber;\n    public double Balance;\n    \n    public BankAccount(string accountNumber, double initialBalance)\n    {\n        if (initialBalance < 0)\n        {\n            Console.WriteLine(\"Error: Initial balance cannot be negative!\");\n            Balance = 0;\n        }\n        else\n        {\n            Balance = initialBalance;\n        }\n        \n        AccountNumber = accountNumber;\n        Console.WriteLine($\"Account {accountNumber} created with balance: ${Balance}\");\n    }\n}\n\nBankAccount account1 = new BankAccount(\"ACC001\", 1000.0);  // Valid\nBankAccount account2 = new BankAccount(\"ACC002\", -500.0);  // Rejected\n\n// CONSTRUCTOR CHAINING (this keyword)\nclass Employee\n{\n    public string Name;\n    public int Age;\n    public string Department;\n    \n    // Full constructor\n    public Employee(string name, int age, string department)\n    {\n        Name = name;\n        Age = age;\n        Department = department;\n    }\n    \n    // Calls full constructor with default department\n    public Employee(string name, int age) : this(name, age, \"General\")\n    {\n        // 'this' calls another constructor in the same class\n    }\n}\n\nEmployee emp1 = new Employee(\"Alice\", 30, \"IT\");\nEmployee emp2 = new Employee(\"Bob\", 25);  // Department = \"General\"\n\n// PRACTICAL: Student class\nclass Student\n{\n    public string Name;\n    public string StudentID;\n    public List<int> Grades;\n    \n    public Student(string name, string id)\n    {\n        Name = name;\n        StudentID = id;\n        Grades = new List<int>();  // Initialize the list!\n        Console.WriteLine($\"Student {name} enrolled with ID: {id}\");\n    }\n    \n    public void AddGrade(int grade)\n    {\n        Grades.Add(grade);\n    }\n    \n    public double GetAverage()\n    {\n        if (Grades.Count == 0) return 0;\n        return Grades.Average();\n    }\n}\n\nStudent student = new Student(\"Charlie\", \"S001\");\nstudent.AddGrade(85);\nstudent.AddGrade(92);\nstudent.AddGrade(78);\nConsole.WriteLine($\"Average: {student.GetAverage():F2}\");",
  "syntaxBreakdown": [
    {
      "codeSnippet": "public ClassName(parameters)",
      "explanation": "Constructor syntax. Same name as class, no return type (not even void!). public makes it accessible. Parameters are values needed to initialize object."
    },
    {
      "codeSnippet": "new ClassName(arguments)",
      "explanation": "Calling constructor. 'new' keyword creates object and calls constructor with arguments. Arguments must match parameter types and order."
    },
    {
      "codeSnippet": "Constructor overloading",
      "explanation": "Multiple constructors with different parameters. C# picks the right one based on arguments you pass. Same name, different signatures."
    },
    {
      "codeSnippet": ": this(args)",
      "explanation": "Constructor chaining. Calls another constructor in same class before running current constructor body. Avoids code duplication!"
    }
  ],
  "challenge": {
    "instructions": "Create a library system with Book class!\n\n1. Create Book class with:\n   - Title (string)\n   - Author (string)\n   - ISBN (string)\n   - Pages (int)\n   - IsAvailable (bool)\n\n2. Create THREE constructors:\n   - Full constructor: all 5 parameters\n   - Medium constructor: title, author, ISBN (defaults: Pages=0, IsAvailable=true)\n   - Simple constructor: title and author only (defaults: ISBN=\"N/A\", Pages=0, IsAvailable=true)\n\n3. Add a method DisplayInfo() that prints all book details\n\n4. Create a list of books using different constructors\n\n5. Display all books and count how many are available\n\nExample output:\n=== LIBRARY SYSTEM ===\nAdding book: C# Fundamentals\nAdding book: Advanced Programming\nAdding book: Quick Guide\n\n=== BOOK CATALOG ===\n[1] C# Fundamentals by John Doe\n    ISBN: 978-0-123456-78-9, Pages: 450\n    Status: Available\n\n[2] Advanced Programming by Jane Smith\n    ISBN: 978-0-987654-32-1, Pages: 0\n    Status: Not Available\n\n[3] Quick Guide by Mike Johnson\n    ISBN: N/A, Pages: 0\n    Status: Available\n\nAvailable books: 2/3",
    "starterCode": "// Library System\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nclass Book\n{\n    // Fields\n    \n    // Constructors\n    \n    // DisplayInfo method\n}\n\nclass Program\n{\n    static void Main()\n    {\n        List<Book> library = new List<Book>();\n        \n        // Add books using different constructors\n        \n        // Display all books\n        \n        // Count available books\n    }\n}",
    "solutionCode": "// Library System\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nclass Book\n{\n    public string Title;\n    public string Author;\n    public string ISBN;\n    public int Pages;\n    public bool IsAvailable;\n    \n    // Full constructor\n    public Book(string title, string author, string isbn, int pages, bool isAvailable)\n    {\n        Title = title;\n        Author = author;\n        ISBN = isbn;\n        Pages = pages;\n        IsAvailable = isAvailable;\n        Console.WriteLine($\"Adding book: {title}\");\n    }\n    \n    // Medium constructor (uses constructor chaining)\n    public Book(string title, string author, string isbn) : this(title, author, isbn, 0, true)\n    {\n    }\n    \n    // Simple constructor (uses constructor chaining)\n    public Book(string title, string author) : this(title, author, \"N/A\", 0, true)\n    {\n    }\n    \n    public void DisplayInfo(int number)\n    {\n        Console.WriteLine($\"[{number}] {Title} by {Author}\");\n        Console.WriteLine($\"    ISBN: {ISBN}, Pages: {Pages}\");\n        string status = IsAvailable ? \"Available\" : \"Not Available\";\n        Console.WriteLine($\"    Status: {status}\");\n        Console.WriteLine();\n    }\n}\n\nclass Program\n{\n    static void Main()\n    {\n        Console.WriteLine(\"=== LIBRARY SYSTEM ===\\n\");\n        \n        List<Book> library = new List<Book>();\n        \n        // Add books using different constructors\n        library.Add(new Book(\"C# Fundamentals\", \"John Doe\", \"978-0-123456-78-9\", 450, true));\n        library.Add(new Book(\"Advanced Programming\", \"Jane Smith\", \"978-0-987654-32-1\"));\n        library.Add(new Book(\"Quick Guide\", \"Mike Johnson\"));\n        \n        // Display all books\n        Console.WriteLine(\"\\n=== BOOK CATALOG ===\\n\");\n        for (int i = 0; i < library.Count; i++)\n        {\n            library[i].DisplayInfo(i + 1);\n        }\n        \n        // Count available books\n        int availableCount = library.Count(b => b.IsAvailable);\n        Console.WriteLine($\"Available books: {availableCount}/{library.Count}\");\n    }\n}",
    "hint": "Constructor has same name as class, no return type. Use : this(...) for constructor chaining. Full constructor initializes all fields. Other constructors call full constructor with default values. DisplayInfo() uses Console.WriteLine to show all fields.",
    "expectedOutputPatterns": ["LIBRARY", "Adding book", "CATALOG", "Available"],
    "validationRules": [],
    "commonStickingPoints": [
      "Return type in constructor: public void Book() is WRONG! Constructor has NO return type, not even void. Just: public Book(). Same name as class, nothing before it.",
      "Forgetting to initialize collections: List<int> grades; in class but never initialized crashes on .Add()! Must initialize in constructor: Grades = new List<int>();",
      "Default constructor disappears: If you write ANY constructor, default parameterless constructor disappears! class Foo { public Foo(int x) {} } then Foo f = new Foo(); ERROR! Must add: public Foo() {}",
      "Constructor chaining syntax: public Book(string title) { this(title, \"Unknown\"); } is WRONG! Use colon: public Book(string title) : this(title, \"Unknown\") { }. Colon goes before { }."
    ]
  }
}
